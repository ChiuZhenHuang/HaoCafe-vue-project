{"version":3,"file":"js/59.53b67d04.js","mappings":"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","sources":["webpack://project/./src/components/Pagination.vue","webpack://project/./src/components/Pagination.vue?33dc","webpack://project/./src/views/front/UserShopping.vue","webpack://project/./src/views/front/UserShopping.vue?510f"],"sourcesContent":["<template>\r\n  <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination justify-content-center\">\r\n      <!-- 在第一頁時不顯示 -->\r\n      <li class=\"page-item\" v-if=\"pages.has_pre\">\r\n        <a class=\"page\" href=\"#\" aria-label=\"Previous\" @click.prevent=\"previousPage(pages)\"\r\n        >\r\n        <span aria-hidden=\"true\">&laquo;</span>\r\n        </a>\r\n      </li>\r\n      <li class=\"page-item\" v-for=\"page in pages.total_pages\" :key=\"page\">\r\n        <a class=\"page\" :class=\"{ 'active': page === pages.current_page }\"\r\n        href=\"#\" @click.prevent=\"updatePage(page)\">\r\n          {{ page }}\r\n        </a>\r\n      </li>\r\n      <!-- 在最後一頁時不顯示 -->\r\n      <li class=\"page-item\" v-if=\"pages.has_next\">\r\n        <a class=\"page\" href=\"#\" aria-label=\"Next\" @click.prevent=\"nextPage(pages)\">\r\n          <span aria-hidden=\"true\">&raquo;</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nimport scrollButton from '@/mixins/scrollButton'\r\n\r\nexport default {\r\n  props: ['pages'],\r\n  data () {\r\n    return {\r\n      nowPage: ''\r\n    }\r\n  },\r\n  mixins: [scrollButton],\r\n  methods: {\r\n    // 參數為目前的頁數\r\n    updatePage (page) {\r\n      // 向外emit目前頁數做更新\r\n      this.$emit('emit-pages', page)\r\n      this.nowPage = page\r\n      this.scrollToTop()\r\n    },\r\n    // 參數為外層props進來的資料\r\n    previousPage (page) {\r\n      this.nowPage = page.current_page\r\n      if (this.nowPage > 1) {\r\n        this.nowPage--\r\n      } else {\r\n        this.nowPage = 1\r\n      }\r\n      this.updatePage(this.nowPage)\r\n    },\r\n    // 參數為外層props進來的資料\r\n    nextPage (page) {\r\n      this.nowPage = page.current_page\r\n      if (this.nowPage < page.total_pages) {\r\n        this.nowPage++\r\n      } else {\r\n        this.nowPage = page.total_pages\r\n      }\r\n      this.updatePage(this.nowPage)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Pagination.vue?vue&type=template&id=441ae6dd\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <LoadingComponent :active=\"isLoading\"></LoadingComponent>\r\n  <div class=\"l-banner bg-product\">\r\n    <div class=\"mask\"></div>\r\n    <h2>Product</h2>\r\n  </div>\r\n\r\n  <div class=\"container mt-3\">\r\n    <div class=\"row\">\r\n      <!-- 選單 -->\r\n      <div class=\"col-md-4 col-lg-3\" id=\"select\">\r\n        <ul class=\"list-group mb-3\">\r\n          <li class=\"mt-3 mb-3\">\r\n            <input type=\"search\" v-model=\"search\" value=\"\" placeholder=\"\"\r\n            @input=\"handleInput\" @compositionstart=\"handleCompositionStart\" @compositionend=\"handleCompositionEnd\">\r\n            <button><i class=\"bi bi-search\"></i></button>\r\n          </li>\r\n          <li class=\"list-group-item \" :class=\"{'active': selectedCategory === ''}\"\r\n          style=\"cursor: pointer\" @click=\"search === '' && selectCategory('')\">全部商品</li>\r\n          <li class=\"list-group-item \" :class=\"{'active': selectedCategory === '淺烘培'}\"\r\n          style=\"cursor: pointer\" @click=\"search === '' && selectCategory('淺烘培')\">淺烘培</li>\r\n          <li class=\"list-group-item \" :class=\"{'active': selectedCategory === '中烘培'}\"\r\n          style=\"cursor: pointer\" @click=\"search === '' && selectCategory('中烘培')\">中烘培</li>\r\n          <li class=\"list-group-item \" :class=\"{'active': selectedCategory === '深烘培'}\"\r\n          style=\"cursor: pointer\" @click=\"search === '' && selectCategory('深烘培')\">深烘培</li>\r\n          <li class=\"list-group-item\" :class=\"{'active': selectedCategory === '周邊商品'}\"\r\n          style=\"cursor: pointer\" @click=\"search === '' && selectCategory('周邊商品')\">周邊商品</li>\r\n        </ul>\r\n      </div>\r\n      <!-- 產品 -->\r\n      <div class=\"col-md-8 col-lg-9 l-product-content\">\r\n        <div class=\"row row-cols-sm-2 row-cols-lg-3\">\r\n          <div class=\"l-frame\" v-for=\"item in filterProducts\" :key=\"item.id\">\r\n            <div class=\"card\">\r\n              <div class=\"card-top\">\r\n                <button v-if=\"!item.isFavorite\" type=\"button\" class=\"btn btn-outline-info btn-love\" @click=\"addToFavorites(item)\">\r\n                  <i class=\"bi bi-heart\"></i>\r\n                </button>\r\n                <button v-else type=\"button\" class=\"btn btn-outline-info btn-love\" @click=\"removeToFavorites(item)\">\r\n                  <i class=\"bi bi-heart-fill\"></i>\r\n                </button>\r\n                <img :src=\"item.imageUrl\"  alt=\"產品圖片\">\r\n                <div class=\"more\">\r\n                  <button type=\"button\" class=\"btn btn-outline-secondary btn-more\"\r\n                    @click=\"getProduct(item.id)\">More...\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div class=\"card-body w-100\">\r\n                <h5 class=\"title\" style=\"cursor: pointer\" @click=\"getProduct(item.id)\">{{ item.title }}</h5>\r\n                <div class=\"category\">{{ item.category }} </div>\r\n                <div class=\"d-flex justify-content-between\">\r\n                  <div class=\"price\">\r\n                    <div class=\"h5\" v-if=\"!item.price\">NT$ {{ $filters.currency(item.origin_price) }}</div>\r\n                    <del class=\"h5\" v-if=\"item.price\">NT$ {{ $filters.currency(item.origin_price) }}</del>\r\n                    <div class=\"h6\" v-if=\"item.price\">NT$ {{ $filters.currency(item.price) }}</div>\r\n                  </div>\r\n                  <div class=\"add-cart ml-auto\">\r\n                    <button type=\"button\" class=\"btn btn-outline-dark\"\r\n                      :disabled=\"this.status.loadingItem === item.id\"\r\n                      @click=\"addToCart(item.id)\">\r\n                      <span v-if=\"this.status.loadingItem === item.id\" class=\"spinner-border spinner-border-sm\" aria-hidden=\"true\"></span>\r\n                      加入購物車\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div v-show=\"filterProducts.length === 0\" class=\"not-found\">\r\n            <i class=\"bi bi-chat-square-dots\"></i>\r\n            <p>找不到相關的產品</p>\r\n            <p>請嘗試輸入其他關鍵字</p>\r\n          </div>\r\n        </div>\r\n        <!-- 渲染全部商品時才顯示頁數 -->\r\n        <Pagination v-show=\"selectedCategory === '' && search === '' \" :pages=\"pagination\" @emit-pages=\"getProducts\"></Pagination>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Pagination from '@/components/Pagination.vue'\r\nimport scrollButton from '@/mixins/scrollButton'\r\nimport { mapState, mapActions } from 'pinia'\r\nimport favoriteStore from '@/stores/favoriteStore'\r\nimport cartStore from '@/stores/cartStore'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: [], // 單頁產品\r\n      allProducts: [], // 所有產品\r\n      search: '', // 搜尋內容\r\n      selectedCategory: '', // 烘培類型\r\n      pagination: {}, // 分頁\r\n      isLoading: false, // 整個頁面loading\r\n      isActive: false, // 篩選欄是否被選擇\r\n      isComposing: false // 是否進行中文輸入\r\n    }\r\n  },\r\n  components: { Pagination },\r\n  inject: ['emitter'],\r\n  mixins: [scrollButton],\r\n  computed: {\r\n    ...mapState(favoriteStore, ['isFavorites']),\r\n    ...mapState(cartStore, ['status']),\r\n    // 搜尋及篩選\r\n    filterProducts () {\r\n      // 輸入搜尋，從所有產品中查找\r\n      if (this.search !== '') {\r\n        return this.allProducts.filter((item) => {\r\n          return item.title.match(new RegExp(this.search, 'i'))\r\n        })\r\n      } else if (this.selectedCategory !== '') {\r\n        // 如果選擇篩選種類，從所有產品中進行篩選\r\n        return this.allProducts.filter((item) => {\r\n          return item.category === this.selectedCategory\r\n        })\r\n      } else {\r\n        return this.products\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(favoriteStore, ['loadFavoritesFromLocalStorage', 'addToFavorites', 'removeToFavorites', 'isProductFavorite']),\r\n    ...mapActions(cartStore, ['addToCart', 'getCart']),\r\n    // 取得單頁產品資料\r\n    getProducts (page = 1) {\r\n      // 一頁最多只能取得10筆資料\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/?page=${page}`\r\n      this.isLoading = true\r\n      this.$http.get(url).then((res) => {\r\n        this.isLoading = false\r\n        this.pagination = res.data.pagination\r\n        // 新增isFavorite屬性，用於判斷是否已是收藏產品\r\n        this.products = res.data.products.map(item => ({ ...item, isFavorite: this.isProductFavorite(item) }))\r\n      })\r\n    },\r\n    // 取得所有產品資料\r\n    getAllProducts () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`\r\n      this.$http.get(url).then((res) => {\r\n        this.allProducts = res.data.products\r\n      })\r\n    },\r\n    // 前往詳細資料頁面\r\n    getProduct (id) {\r\n      this.scrollToTop()\r\n      this.$router.push(`/user/product/${id}`)\r\n    },\r\n    // 篩選烘培度\r\n    selectCategory (category) {\r\n      this.selectedCategory = category\r\n      // 篩選全部商品時，重新取得 this.products 內的 isFavorite值，同步收藏按鈕\r\n      if (category === '') {\r\n        this.products = this.products.map(product => {\r\n          const matchingProduct = this.allProducts.find(p => p.id === product.id)\r\n          return matchingProduct ? { ...product, isFavorite: matchingProduct.isFavorite } : product\r\n        })\r\n      } else if (this.search !== '' || category !== '') {\r\n        // 搜尋或篩選非全部商品狀態時，更新 this.allProducts 內的 isFavorite值，同步收藏按鈕\r\n        this.allProducts = this.allProducts.map(item => ({ ...item, isFavorite: this.isProductFavorite(item) }))\r\n      }\r\n      this.scrollToTop()\r\n    },\r\n    // 如果搜尋文字並非中文，就觸發 handleSearchChange\r\n    handleInput () {\r\n      if (!this.isComposing) {\r\n        this.handleSearchChange()\r\n      }\r\n    },\r\n    // 中文輸入開始\r\n    handleCompositionStart () {\r\n      this.isComposing = true\r\n    },\r\n    // 中文輸入結束，結束後觸發 handleSearchChange\r\n    handleCompositionEnd () {\r\n      this.isComposing = false\r\n      this.handleSearchChange()\r\n    },\r\n    // 在搜尋框內容送出時，觸發 selectCategory 篩選\r\n    handleSearchChange () {\r\n      if (this.search === '') {\r\n        this.selectCategory('')\r\n      } else {\r\n        // 只要不是空就可\r\n        this.selectCategory('search')\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.emitter.on('emit-category', this.selectCategory)\r\n  },\r\n  beforeUnmount () {\r\n    this.emitter.off('emit-category')\r\n  },\r\n  created () {\r\n    this.getProducts()\r\n    this.getAllProducts()\r\n    this.getCart()\r\n    this.loadFavoritesFromLocalStorage()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserShopping.vue?vue&type=template&id=0f59e4cf\"\nimport script from \"./UserShopping.vue?vue&type=script&lang=js\"\nexport * from \"./UserShopping.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","key","_createElementVNode","_hoisted_4","_hoisted_8","_createElementBlock","_hoisted_1","_hoisted_2","$props","pages","has_pre","_hoisted_3","href","onClick","_cache","_withModifiers","$event","$options","previousPage","_hoisted_5","_createCommentVNode","_Fragment","_renderList","total_pages","page","_normalizeClass","current_page","updatePage","_hoisted_6","has_next","_hoisted_7","nextPage","_hoisted_9","props","data","nowPage","mixins","scrollButton","methods","this","$emit","scrollToTop","__exports__","render","id","_hoisted_13","_hoisted_16","_hoisted_33","_hoisted_34","_hoisted_35","_createVNode","_component_LoadingComponent","active","$data","isLoading","type","search","value","placeholder","onInput","args","handleInput","onCompositionstart","handleCompositionStart","onCompositionend","handleCompositionEnd","selectedCategory","style","selectCategory","filterProducts","item","_hoisted_10","_hoisted_11","isFavorite","_ctx","removeToFavorites","_hoisted_17","_hoisted_15","addToFavorites","_hoisted_14","_hoisted_12","src","imageUrl","alt","_hoisted_18","_hoisted_19","getProduct","_hoisted_20","_hoisted_21","title","_hoisted_22","_hoisted_23","_toDisplayString","category","_hoisted_24","_hoisted_25","price","_hoisted_26","$filters","currency","origin_price","_hoisted_27","_hoisted_28","_hoisted_29","disabled","status","loadingItem","addToCart","_hoisted_31","_createTextVNode","_hoisted_30","_hoisted_32","_hoisted_36","length","_component_Pagination","pagination","onEmitPages","getProducts","products","allProducts","isActive","isComposing","components","Pagination","inject","computed","mapState","favoriteStore","cartStore","filter","match","RegExp","mapActions","url","$http","get","then","res","map","isProductFavorite","getAllProducts","$router","push","product","matchingProduct","find","p","handleSearchChange","mounted","emitter","on","beforeUnmount","off","created","getCart","loadFavoritesFromLocalStorage"],"sourceRoot":""}