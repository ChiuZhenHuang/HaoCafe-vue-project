{"version":3,"file":"js/82.99e1a055.js","mappings":"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","sources":["webpack://project/./src/views/front/Favorites.vue","webpack://project/./src/views/front/Favorites.vue?5d3b"],"sourcesContent":["<template>\r\n  <div class=\"l-banner bg-favorites\">\r\n    <div class=\"mask\"></div>\r\n    <h2>收藏列表</h2>\r\n  </div>\r\n\r\n  <div class=\"container favorite-content mt-3\">\r\n    <div class=\"row\">\r\n      <div class=\"col-10 l-product-content\">\r\n        <button class=\"favorite-clear\" @click=\"clearFavorites\"><i class=\"bi bi-trash\"></i> 清空全部</button>\r\n        <div class=\"row row-cols-sm-2 row-cols-lg-3 row-cols-xl-4 favorite-wrap\">\r\n          <div v-if=\"isFavorites.length === 0\" class=\"favorite-not-buy\">\r\n            <i class=\"bi bi-emoji-dizzy\"></i>\r\n            <h5>您尚未收藏產品</h5>\r\n            <router-link class=\"nav-link\" to=\"/user/shopping\" @click.prevent=\"scrollToTop\">\r\n              <button type=\"button\" class=\"btn btn-dark\">立即前往選購</button>\r\n            </router-link>\r\n          </div>\r\n          <div class=\"l-frame\" v-for=\"item in isFavorites\" :key=\"item.id\">\r\n            <div class=\"card\">\r\n              <div class=\"card-top\">\r\n                <button type=\"button\" class=\"btn btn-outline-info btn-love\" @click=\"removeToFavorites(item)\">\r\n                  <i class=\"bi bi-heart-fill\"></i>\r\n                </button>\r\n                <img :src=\"item.imageUrl\"  alt=\"產品圖片\">\r\n                <div class=\"more\">\r\n                  <button type=\"button\" class=\"btn btn-outline-secondary btn-more\"\r\n                    @click=\"getProduct(item.id)\">More...\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div class=\"card-body w-100\">\r\n                <h5 class=\"title\" style=\"cursor: pointer\" @click=\"getProduct(item.id)\">{{ item.title }}</h5>\r\n                <div class=\"category\">{{ item.category }}</div>\r\n                <div class=\"d-flex justify-content-between\">\r\n                  <div class=\"price\">\r\n                    <div class=\"h5\" v-if=\"!item.price\">NT$ {{ $filters.currency(item.origin_price) }}</div>\r\n                    <del class=\"h5\" v-if=\"item.price\">NT$ {{ $filters.currency(item.origin_price) }}</del>\r\n                    <div class=\"h6\" v-if=\"item.price\">NT$ {{ $filters.currency(item.price) }}</div>\r\n                  </div>\r\n                  <div class=\"add-cart ml-auto\">\r\n                    <button type=\"button\" class=\"btn btn-outline-dark\"\r\n                      :disabled=\"this.status.loadingItem === item.id\"\r\n                      @click=\"addToCart(item.id)\">\r\n                      <span v-if=\"this.status.loadingItem === item.id\" class=\"spinner-border spinner-border-sm\" aria-hidden=\"true\"></span>\r\n                      加入購物車\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <subscription/>\r\n\r\n</template>\r\n\r\n<script>\r\nimport subscription from '@/components/Subscription.vue'\r\nimport scrollButton from '@/mixins/scrollButton'\r\nimport { mapState, mapActions } from 'pinia'\r\nimport favoriteStore from '@/stores/favoriteStore'\r\nimport cartStore from '@/stores/cartStore'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      // isFavorites: [],\r\n      // status: {\r\n      //   loadingItem: '' // 對應品項id\r\n      // }\r\n    }\r\n  },\r\n  components: { subscription },\r\n  mixins: [scrollButton],\r\n  computed: {\r\n    ...mapState(favoriteStore, ['isFavorites']),\r\n    ...mapState(cartStore, ['status'])\r\n  },\r\n  methods: {\r\n    ...mapActions(favoriteStore, ['loadFavoritesFromLocalStorage', 'removeToFavorites', 'clearFavorites']),\r\n    ...mapActions(cartStore, ['addToCart', 'getCart']),\r\n    // 取得儲存收藏產品資料\r\n    // loadFavoritesFromLocalStorage () {\r\n    //   const favoritesData = JSON.parse(localStorage.getItem('favorites')) || []\r\n    //   this.isFavorites = favoritesData\r\n    // },\r\n    // 將收藏資料儲存LocalStorage\r\n    // saveFavoritesToLocalStorage () {\r\n    //   localStorage.setItem('favorites', JSON.stringify(this.isFavorites))\r\n    // },\r\n    // 前往詳細資料頁面\r\n    getProduct (id) {\r\n      this.$router.push(`/user/product/${id}`)\r\n      this.scrollToTop()\r\n    }\r\n    // 加到購物車\r\n    // addCart (id) {\r\n    //   const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n    //   // 讀取資料前先讓loadingItem等於id資料，觸發disabled避免用戶重複加入購物車\r\n    //   this.status.loadingItem = id\r\n    //   const cart = {\r\n    //     product_id: id,\r\n    //     qty: 1\r\n    //   }\r\n    //   this.$http.post(url, { data: cart })\r\n    //     .then((res) => {\r\n    //       console.log(res)\r\n    //       // 讀取資料完成將disabled取消，讓用戶知道已經完成加入購物車\r\n    //       this.status.loadingItem = ''\r\n    //       this.$httpMessageState(res, '加入購物車')\r\n    //     })\r\n    // }\r\n    // 加到收藏\r\n    // addToFavorites (item) {\r\n    //   this.isFavorites.push(item)\r\n    //   this.emitter.emit('push-message', {\r\n    //     style: 'success',\r\n    //     title: '已加入收藏'\r\n    //   })\r\n    //   item.isFavorite = true\r\n    //   this.saveFavoritesToLocalStorage()\r\n    // },\r\n    // 移除收藏\r\n    // removeToFavorites (item) {\r\n    //   const index = this.isFavorites.findIndex(favProduct => favProduct.id === item.id)\r\n    //   if (index !== -1) {\r\n    //     this.isFavorites.splice(index, 1)\r\n    //     this.emitter.emit('push-message', {\r\n    //       style: 'warning',\r\n    //       title: '已移除收藏'\r\n    //     })\r\n    //   }\r\n    //   item.isFavorite = false\r\n    //   this.saveFavoritesToLocalStorage()\r\n    // },\r\n    // clearFavorites () {\r\n    //   // 清空 isFavorites 及LocalStorage\r\n    //   this.isFavorites = []\r\n    //   localStorage.removeItem('favorites')\r\n    // }\r\n  },\r\n  created () {\r\n  // 從 localStorage 中加載收藏資料\r\n    this.loadFavoritesFromLocalStorage()\r\n    this.getCart()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Favorites.vue?vue&type=template&id=ad7ab47c\"\nimport script from \"./Favorites.vue?vue&type=script&lang=js\"\nexport * from \"./Favorites.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","key","type","_hoisted_14","_createElementBlock","_Fragment","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","onClick","_cache","args","_ctx","clearFavorites","_hoisted_5","_createTextVNode","_hoisted_6","isFavorites","length","_hoisted_7","_hoisted_8","_hoisted_9","_createVNode","_component_router_link","to","_withModifiers","scrollToTop","default","_withCtx","_hoisted_10","_","_createCommentVNode","_renderList","item","id","_hoisted_11","_hoisted_12","$event","removeToFavorites","_hoisted_15","_hoisted_13","src","imageUrl","alt","_hoisted_16","_hoisted_17","$options","getProduct","_hoisted_18","_hoisted_19","style","title","_hoisted_20","_hoisted_21","_toDisplayString","category","_hoisted_22","_hoisted_23","price","_hoisted_24","$filters","currency","origin_price","_hoisted_25","_hoisted_26","_hoisted_27","disabled","status","loadingItem","addToCart","_hoisted_29","_hoisted_28","_component_subscription","data","components","subscription","mixins","scrollButton","computed","mapState","favoriteStore","cartStore","methods","mapActions","this","$router","push","created","loadFavoritesFromLocalStorage","getCart","__exports__","render"],"sourceRoot":""}