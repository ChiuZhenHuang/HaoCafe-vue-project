{"version":3,"file":"js/631.66ca52a5.js","mappings":"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","sources":["webpack://project/./src/views/front/UserForm.vue","webpack://project/./src/views/front/UserForm.vue?d456"],"sourcesContent":["<template>\r\n  <LoadingComponent :active=\"isLoading\"></LoadingComponent>\r\n\r\n  <div class=\"banner bg-user-form\">\r\n    <div class=\"mask\"></div>\r\n    <h2>資料填寫</h2>\r\n  </div>\r\n\r\n  <div class=\"order-progress mt-5\">\r\n    <ul>\r\n      <li><i class=\"fa-solid fa-list-check\"></i>確認訂單</li>\r\n      <li class=\"active\"><i class=\"fa-regular fa-pen-to-square\"></i>資料填寫</li>\r\n      <li><i class=\"fa-solid fa-money-check-dollar\"></i>付款完成</li>\r\n    </ul>\r\n  </div>\r\n\r\n    <div class=\"container cart-product\">\r\n    <div class=\"row mt-5 mb-5\">\r\n      <div class=\"col-12 col-md-6 list\">\r\n        <div class=\"frame\" v-if=\"cart.carts\">\r\n          <h3>訂單內容</h3>\r\n          <div class=\"overflow-auto mt-5 mb-2\" style=\"max-height: 500px;\">\r\n          <div class=\"item d-flex justify-content-center\" v-for=\"item in cart.carts\" :key=\"item.id\">\r\n            <div class=\"product-image-container\">\r\n              <img :src=\"item.product.imageUrl\" alt=\"產品圖片\">\r\n            </div>\r\n            <div class=\"d-flex flex-column w-100 info\">\r\n              <div class=\"h-100 d-flex flex-column\"  style=\"justify-content:space-evenly; padding:.5em;\">\r\n                <div class=\"d-flex flex-row\">\r\n                  <h5>{{ item.product.title }}</h5>\r\n                </div>\r\n                <h6 class=\"text-start price\">單價：NT$ {{ item.product.price }}</h6>\r\n                <div class=\"d-flex\">\r\n                  <div>\r\n                    數量：{{ item.qty }}\r\n                  </div>\r\n                  <div class=\"d-flex\" style=\"display: flex; align-items:end;\">\r\n                    <div>NT$ {{ $filters.currency(item.product.price*item.qty) }}</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          </div>\r\n          <div class=\"total mt-3\">\r\n            <div class=\"d-flex w-100 justify-content-between\">\r\n              <h3>小計</h3>\r\n              <h3>NT$ {{ $filters.currency(cart.total) }}</h3>\r\n            </div>\r\n            <div class=\"d-flex w-100 justify-content-between\" v-if=\"hasCoupons\">\r\n              <h6>已優惠 <span>{{ cart.carts[0].coupon.title }}</span></h6>\r\n              <h6>-$ {{ $filters.currency(parseInt(cart.total)-parseInt(cart.final_total)) }}</h6>\r\n            </div>\r\n            <div class=\"input-group mb-3 input-group-sm\">\r\n              <input type=\"text\" class=\"form-control\" v-model=\"coupon_code\" placeholder=\"請輸入優惠碼\">\r\n              <div class=\"input-group-append\">\r\n                <button  type=\"button\" @click=\"addCouponCode\">\r\n                  套用優惠碼\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div class=\"d-flex w-100 justify-content-between\" v-if=\"cart.total < 3000\">\r\n              <h6>運費</h6>\r\n              <h6>+$120</h6>\r\n            </div>\r\n            <div class=\"d-flex w-100 justify-content-between\" v-else>\r\n              <h6>運費</h6>\r\n              <h4>恭喜達成免運！</h4>\r\n            </div>\r\n            <!-- 沒使用優惠券 -->\r\n            <div class=\"d-flex w-100 justify-content-between\" v-if=\"!hasCoupons\">\r\n              <h5>總計</h5>\r\n              <h5 v-if=\"cart.total < 3000\">NT$ {{ $filters.currency(parseInt(cart.total) + 120) }}</h5>\r\n              <h5 v-else>NT$ {{ $filters.currency(parseInt(cart.total)) }}</h5>\r\n            </div>\r\n            <!-- 有使用優惠券 -->\r\n            <div class=\"d-flex w-100 justify-content-between\" v-else>\r\n              <h5>總計</h5>\r\n              <h5 v-if=\"cart.total < 3000\">NT$ {{ $filters.currency(parseInt(cart.final_total) + 120) }}</h5>\r\n              <h5 v-else>NT$ {{ $filters.currency(cart.final_total) }}</h5>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-12 col-md-6 shop-notice\">\r\n        <div class=\"frame\">\r\n          <div style=\"text-align: center;margin-bottom: 2em;\">\r\n            <h3>訂購人資訊</h3>\r\n          </div>\r\n          <div>\r\n            <div class=\"row justify-content-center\">\r\n              <Form v-slot=\"{ errors }\" ref=\"myForm\"\r\n                  @submit=\"createOrder\">\r\n                <div class=\"mb-3\">\r\n                  <label for=\"email\" class=\"form-label\">Email</label>\r\n                  <Field id=\"email\" name=\"email\" type=\"email\" class=\"form-control\"\r\n                    :class=\"{ 'is-invalid': errors['email'] }\"\r\n                    placeholder=\"請輸入 Email\" rules=\"email|required\"\r\n                    v-model=\"form.user.email\"></Field>\r\n                  <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                  <label for=\"name\" class=\"form-label\">收件人姓名</label>\r\n                  <Field id=\"name\" name=\"姓名\" type=\"text\" class=\"form-control\"\r\n                    :class=\"{ 'is-invalid': errors['姓名'] }\"\r\n                    placeholder=\"請輸入姓名\" rules=\"required\"\r\n                    v-model=\"form.user.name\"></Field>\r\n                  <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                  <label for=\"tel\" class=\"form-label\">收件人電話</label>\r\n                  <Field id=\"tel\" name=\"電話\" type=\"tel\" class=\"form-control\"\r\n                    :class=\"{ 'is-invalid': errors['電話'] }\"\r\n                    placeholder=\"請輸入電話\" :rules=\"isPhone\"\r\n                    v-model=\"form.user.tel\"></Field>\r\n                  <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                  <label for=\"paymentMethod\" class=\"form-label\">付款方式</label>\r\n                  <Field id=\"paymentMethod\" name=\"付款方式\" as=\"select\" class=\"form-control\"\r\n                    :class=\"{ 'is-invalid': errors['付款方式'] }\" rules=\"required\" v-model=\"form.user.pay\">\r\n                    <option value=\"\" disabled selected>請選擇付款方式</option>\r\n                    <option value=\"貨到付款\">貨到付款</option>\r\n                    <option value=\"ATM銀行轉帳\">ATM銀行轉帳</option>\r\n                    <option value=\"信用卡\">信用卡</option>\r\n                    <option value=\"Apple Pay\">Apple Pay</option>\r\n                  </Field>\r\n                  <ErrorMessage name=\"付款方式\" class=\"invalid-feedback\"></ErrorMessage>\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                  <label for=\"address\" class=\"form-label\">收件人地址</label>\r\n                  <Field id=\"address\" name=\"地址\" type=\"text\" class=\"form-control\"\r\n                    :class=\"{ 'is-invalid': errors['地址'] }\"\r\n                    placeholder=\"請輸入地址\" rules=\"required\"\r\n                    v-model=\"form.user.address\"></Field>\r\n                  <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                  <label for=\"message\" class=\"form-label\">留言</label>\r\n                  <textarea name=\"\" id=\"message\" class=\"form-control\" cols=\"30\" rows=\"6\"\r\n                  v-model=\"form.message\"></textarea>\r\n                </div>\r\n                <div class=\"text-end\">\r\n                  <button class=\"next\">送出訂單</button>\r\n                </div>\r\n              </Form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col-12 mt-3 route\">\r\n        <router-link class=\"nav-link\" to=\"/user/cart\" @click.prevent=\"scrollToTop\">\r\n          <button type=\"button\" class=\"previous\">返回購物車</button>\r\n        </router-link>\r\n        <!-- <router-link class=\"nav-link\" to=\"/user/form\" @click.prevent=\"scrollToTop\">\r\n          <button type=\"button\" class=\"next\">送出訂單</button>\r\n        </router-link> -->\r\n          <!-- <button class=\"next\" @click.prevent=\"submitOrder\">送出訂單</button> -->\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport scrollButton from '@/mixins/scrollButton'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      form: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          pay: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      },\r\n      coupon_code: '',\r\n      cart: {}, // 存放目前已加至購物車內產品\r\n      isLoading: false,\r\n      total: ''\r\n    }\r\n  },\r\n  inject: ['emitter'],\r\n  mixins: [scrollButton],\r\n  computed: {\r\n    // 用於判斷是否每個商品都有使用優惠\r\n    hasCoupons () {\r\n      return this.cart.carts.every(item => item.coupon)\r\n    }\r\n  },\r\n  methods: {\r\n    // 驗證電話是否正確\r\n    isPhone (value) {\r\n      const phoneNumber = /^(09)[0-9]{8}$/\r\n      return phoneNumber.test(value) ? true : '需要正確的電話號碼'\r\n    },\r\n    // 取得購物車列表\r\n    getCart () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.isLoading = true\r\n      this.$http.get(url)\r\n        .then((res) => {\r\n          this.cart = res.data.data\r\n          this.total = res.data.data.total\r\n          this.isLoading = false\r\n          console.log('購物車產品', this.cart)\r\n        })\r\n    },\r\n    // 套用優惠券\r\n    addCouponCode () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`\r\n      const coupon = {\r\n        code: this.coupon_code\r\n      }\r\n      this.$http.post(url, { data: coupon })\r\n        .then((res) => {\r\n          console.log(res)\r\n          this.$httpMessageState(res, '套用優惠券')\r\n          this.getCart()\r\n          // 優惠碼使用成功後清除優惠碼資料\r\n          this.coupon_code = ''\r\n        })\r\n    },\r\n    // 送出訂單表單\r\n    createOrder () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`\r\n      this.isLoading = true\r\n      const order = this.form\r\n      // 將用戶建立訂單資料傳到api\r\n      this.$http.post(url, { data: order }).then((res) => {\r\n        console.log('送出訂單資料', res)\r\n        this.$httpMessageState(res, '訂單送出')\r\n        this.getCart()\r\n        // 前往付款頁面\r\n        this.$router.push(`/user/checkout/${res.data.orderId}`)\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.getCart()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserForm.vue?vue&type=template&id=153bcec0\"\nimport script from \"./UserForm.vue?vue&type=script&lang=js\"\nexport * from \"./UserForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createStaticVNode","class","key","_createElementVNode","style","_hoisted_24","_hoisted_25","_hoisted_28","_hoisted_29","for","value","disabled","selected","type","_createElementBlock","_Fragment","_createVNode","_component_LoadingComponent","active","$data","isLoading","_hoisted_1","_hoisted_3","_hoisted_4","_hoisted_5","cart","carts","_hoisted_6","_hoisted_7","_hoisted_8","_renderList","item","id","_hoisted_9","src","product","imageUrl","alt","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_toDisplayString","title","_hoisted_14","price","_hoisted_15","qty","_hoisted_16","_ctx","$filters","currency","_hoisted_17","_hoisted_18","_hoisted_19","total","$options","hasCoupons","_hoisted_20","_createTextVNode","coupon","parseInt","final_total","_createCommentVNode","_hoisted_21","_cache","$event","coupon_code","placeholder","_hoisted_22","onClick","args","addCouponCode","_hoisted_23","_hoisted_26","_hoisted_27","_hoisted_30","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_component_Form","ref","onSubmit","createOrder","default","_withCtx","errors","_hoisted_43","_hoisted_44","_component_Field","name","_normalizeClass","rules","modelValue","form","user","email","_component_ErrorMessage","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","isPhone","tel","_hoisted_49","_hoisted_50","as","pay","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_","_hoisted_56","_hoisted_57","address","_hoisted_58","_hoisted_59","cols","rows","message","_hoisted_60","_hoisted_61","_component_router_link","to","_withModifiers","scrollToTop","_hoisted_62","data","inject","mixins","scrollButton","computed","this","every","methods","phoneNumber","test","getCart","url","$http","get","then","res","console","log","code","post","$httpMessageState","order","$router","push","orderId","created","__exports__","render"],"sourceRoot":""}