{"version":3,"file":"js/6.25384b3b.js","mappings":"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","sources":["webpack://project/./src/views/front/UserForm.vue","webpack://project/./src/views/front/UserForm.vue?d456"],"sourcesContent":["<template>\r\n  <LoadingComponent :active=\"isLoading\"></LoadingComponent>\r\n\r\n  <div class=\"l-banner bg-user-form\">\r\n    <div class=\"mask\"></div>\r\n    <h2>資料填寫</h2>\r\n  </div>\r\n\r\n  <div class=\"order-progress mt-5\">\r\n    <ul>\r\n      <li><i class=\"fa-solid fa-list-check\"></i>確認訂單</li>\r\n      <li class=\"active\"><i class=\"fa-regular fa-pen-to-square\"></i>資料填寫</li>\r\n      <li><i class=\"fa-solid fa-money-check-dollar\"></i>付款完成</li>\r\n    </ul>\r\n  </div>\r\n\r\n    <div class=\"container cart-product\">\r\n    <div class=\"row mt-5 mb-5\">\r\n      <div class=\"col-12 col-md-6 cart-list\">\r\n        <div class=\"cart-frame\" v-if=\"cart.carts\">\r\n          <h3>訂單內容</h3>\r\n          <div class=\"overflow-auto mt-5 mb-2\" style=\"max-height: 500px;\">\r\n          <div class=\"cart-item d-flex justify-content-center\" v-for=\"item in cart.carts\" :key=\"item.id\">\r\n            <div class=\"product-image-container\">\r\n              <img :src=\"item.product.imageUrl\" alt=\"產品圖片\">\r\n            </div>\r\n            <div class=\"d-flex flex-column w-100 info\">\r\n              <div class=\"h-100 d-flex flex-column\"  style=\"justify-content:space-evenly; padding:.5em;\">\r\n                <div class=\"d-flex flex-row\">\r\n                  <h5>{{ item.product.title }}</h5>\r\n                </div>\r\n                <h6 class=\"text-start price\">單價：NT$ {{ item.product.price }}</h6>\r\n                <div class=\"d-flex\">\r\n                  <div>\r\n                    數量：{{ item.qty }}\r\n                  </div>\r\n                  <div class=\"d-flex\" style=\"display: flex; align-items:end;\">\r\n                    <div>NT$ {{ $filters.currency(item.product.price*item.qty) }}</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          </div>\r\n          <div class=\"total mt-3\">\r\n            <div class=\"d-flex w-100 justify-content-between\">\r\n              <h3>小計</h3>\r\n              <h3>NT$ {{ $filters.currency(cart.total) }}</h3>\r\n            </div>\r\n            <div class=\"d-flex w-100 justify-content-between\" v-if=\"hasCoupons\">\r\n              <!-- <h6>已優惠 <span>{{ hasCoupons ? cart.carts[0].coupon.title : '' }}</span></h6> -->\r\n              <!-- <h6>已優惠 <span v-if=\"couponTitle\">{{ this.couponTitle }}</span></h6> -->\r\n              <h6>已優惠</h6>\r\n              <h6>-$ {{ $filters.currency(parseInt(cart.total)-parseInt(cart.final_total)) }}</h6>\r\n            </div>\r\n            <div class=\"input-group mb-3 input-group-sm\">\r\n              <input type=\"text\" class=\"form-control\" v-model=\"coupon_code\" placeholder=\"請輸入優惠碼\">\r\n              <div class=\"input-group-append\">\r\n                <button  type=\"button\" @click=\"addCouponCode\">\r\n                  套用優惠碼\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div class=\"d-flex w-100 justify-content-between\" v-if=\"cart.total < 3000\">\r\n              <h6>運費</h6>\r\n              <h6>+$120</h6>\r\n            </div>\r\n            <div class=\"d-flex w-100 justify-content-between\" v-else>\r\n              <h6>運費</h6>\r\n              <h4>恭喜達成免運！</h4>\r\n            </div>\r\n            <!-- 沒使用優惠券 -->\r\n            <div class=\"d-flex w-100 justify-content-between\" v-if=\"!hasCoupons\">\r\n              <h5>總計</h5>\r\n              <h5 v-if=\"cart.total < 3000\">NT$ {{ $filters.currency(parseInt(cart.total) + 120) }}</h5>\r\n              <h5 v-else>NT$ {{ $filters.currency(parseInt(cart.total)) }}</h5>\r\n            </div>\r\n            <!-- 有使用優惠券 -->\r\n            <div class=\"d-flex w-100 justify-content-between\" v-else>\r\n              <h5>總計</h5>\r\n              <h5 v-if=\"cart.total < 3000\">NT$ {{ $filters.currency(parseInt(cart.final_total) + 120) }}</h5>\r\n              <h5 v-else>NT$ {{ $filters.currency(cart.final_total) }}</h5>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-12 col-md-6 shop-notice\">\r\n        <div class=\"shop-notice-frame\">\r\n          <div style=\"text-align: center;margin-bottom: 2em;\">\r\n            <h3>訂購人資訊</h3>\r\n          </div>\r\n          <div>\r\n            <div class=\"row justify-content-center\">\r\n              <Form v-slot=\"{ errors }\" ref=\"myForm\"\r\n                  @submit=\"createOrder\">\r\n                <div class=\"mb-3\">\r\n                  <label for=\"email\" class=\"form-label\">Email</label>\r\n                  <Field id=\"email\" name=\"email\" type=\"email\" class=\"form-control\"\r\n                    :class=\"{ 'is-invalid': errors['email'] }\"\r\n                    placeholder=\"請輸入 Email\" rules=\"email|required\"\r\n                    v-model=\"form.user.email\"></Field>\r\n                  <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                  <label for=\"name\" class=\"form-label\">收件人姓名</label>\r\n                  <Field id=\"name\" name=\"姓名\" type=\"text\" class=\"form-control\"\r\n                    :class=\"{ 'is-invalid': errors['姓名'] }\"\r\n                    placeholder=\"請輸入姓名\" rules=\"required\"\r\n                    v-model=\"form.user.name\"></Field>\r\n                  <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                  <label for=\"tel\" class=\"form-label\">收件人電話</label>\r\n                  <Field id=\"tel\" name=\"電話\" type=\"tel\" class=\"form-control\"\r\n                    :class=\"{ 'is-invalid': errors['電話'] }\"\r\n                    placeholder=\"請輸入電話\" :rules=\"isPhone\"\r\n                    v-model=\"form.user.tel\"></Field>\r\n                  <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                  <label for=\"paymentMethod\" class=\"form-label\">付款方式</label>\r\n                  <Field id=\"paymentMethod\" name=\"付款方式\" as=\"select\" class=\"form-control\"\r\n                    :class=\"{ 'is-invalid': errors['付款方式'] }\" rules=\"required\" v-model=\"form.user.pay\">\r\n                    <option value=\"\" disabled selected>請選擇付款方式</option>\r\n                    <option value=\"貨到付款\">貨到付款</option>\r\n                    <option value=\"ATM銀行轉帳\">ATM銀行轉帳</option>\r\n                    <option value=\"信用卡\">信用卡</option>\r\n                    <option value=\"Apple Pay\">Apple Pay</option>\r\n                  </Field>\r\n                  <ErrorMessage name=\"付款方式\" class=\"invalid-feedback\"></ErrorMessage>\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                  <label for=\"address\" class=\"form-label\">收件人地址</label>\r\n                  <Field id=\"address\" name=\"地址\" type=\"text\" class=\"form-control\"\r\n                    :class=\"{ 'is-invalid': errors['地址'] }\"\r\n                    placeholder=\"請輸入地址\" rules=\"required\"\r\n                    v-model=\"form.user.address\"></Field>\r\n                  <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                  <label for=\"message\" class=\"form-label\">留言</label>\r\n                  <textarea name=\"\" id=\"message\" class=\"form-control\" cols=\"30\" rows=\"6\"\r\n                  v-model=\"form.message\"></textarea>\r\n                </div>\r\n                <div class=\"text-end\">\r\n                  <button class=\"next\">送出訂單</button>\r\n                </div>\r\n              </Form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col-12 mt-3 route\">\r\n        <router-link class=\"nav-link\" to=\"/user/cart\" @click.prevent=\"scrollToTop\">\r\n          <button type=\"button\" class=\"previous\">返回購物車</button>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport scrollButton from '@/mixins/scrollButton'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      form: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          pay: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      },\r\n      coupon_code: '',\r\n      cart: {}, // 存放目前已加至購物車內產品\r\n      isLoading: false,\r\n      couponTitle: ''\r\n    }\r\n  },\r\n  inject: ['emitter'],\r\n  mixins: [scrollButton],\r\n  computed: {\r\n    // 用於判斷是否每個商品都有使用優惠\r\n    hasCoupons () {\r\n      return this.cart.carts.every(item => item && item.coupon !== undefined)\r\n    }\r\n  },\r\n  methods: {\r\n    // 驗證電話是否正確\r\n    isPhone (value) {\r\n      const phoneNumber = /^(09)[0-9]{8}$/\r\n      return phoneNumber.test(value) ? true : '需要正確的電話號碼'\r\n    },\r\n    // 取得購物車列表\r\n    getCart () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.isLoading = true\r\n      this.$http.get(url)\r\n        .then((res) => {\r\n          this.cart = res.data.data\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    // 套用優惠券\r\n    addCouponCode () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`\r\n      const coupon = {\r\n        code: this.coupon_code\r\n      }\r\n      this.$http.post(url, { data: coupon })\r\n        .then((res) => {\r\n          this.$httpMessageState(res, '套用優惠券')\r\n          this.getCart()\r\n          if (res.data.success) {\r\n            this.couponTitle = this.cart.carts[0].coupon?.title\r\n          }\r\n          // 優惠碼使用成功後清除優惠碼資料\r\n          this.coupon_code = ''\r\n        })\r\n    },\r\n    // 送出訂單表單\r\n    createOrder () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`\r\n      this.isLoading = true\r\n      const order = this.form\r\n      // 將用戶建立訂單資料傳到api\r\n      this.$http.post(url, { data: order }).then((res) => {\r\n        this.$httpMessageState(res, '訂單送出')\r\n        this.getCart()\r\n        // 前往付款頁面\r\n        this.$router.push(`/user/checkout/${res.data.orderId}`)\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.getCart()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserForm.vue?vue&type=template&id=0c3ecae7\"\nimport script from \"./UserForm.vue?vue&type=script&lang=js\"\nexport * from \"./UserForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createStaticVNode","class","key","_createElementVNode","style","_hoisted_25","_hoisted_26","_hoisted_29","_hoisted_30","for","value","disabled","selected","type","_createElementBlock","_Fragment","_createVNode","_component_LoadingComponent","active","$data","isLoading","_hoisted_1","_hoisted_3","_hoisted_4","_hoisted_5","cart","carts","_hoisted_6","_hoisted_7","_hoisted_8","_renderList","item","id","_hoisted_9","src","product","imageUrl","alt","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_toDisplayString","title","_hoisted_14","price","_hoisted_15","qty","_hoisted_16","_ctx","$filters","currency","_hoisted_17","_hoisted_18","_hoisted_19","total","$options","hasCoupons","_hoisted_20","_hoisted_21","parseInt","final_total","_createCommentVNode","_hoisted_22","_cache","$event","coupon_code","placeholder","_hoisted_23","onClick","args","addCouponCode","_hoisted_24","_hoisted_27","_hoisted_28","_hoisted_31","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_component_Form","ref","onSubmit","createOrder","default","_withCtx","errors","_hoisted_44","_hoisted_45","_component_Field","name","_normalizeClass","rules","modelValue","form","user","email","_component_ErrorMessage","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","isPhone","tel","_hoisted_50","_hoisted_51","as","pay","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_","_hoisted_57","_hoisted_58","address","_hoisted_59","_hoisted_60","cols","rows","message","_hoisted_61","_hoisted_62","_component_router_link","to","_withModifiers","scrollToTop","_hoisted_63","data","couponTitle","inject","mixins","scrollButton","computed","this","every","undefined","coupon","methods","phoneNumber","test","getCart","url","$http","get","then","res","code","post","$httpMessageState","success","order","$router","push","orderId","created","__exports__","render"],"sourceRoot":""}