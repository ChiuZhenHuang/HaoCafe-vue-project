{"version":3,"file":"js/86.1710a2cf.js","mappings":"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","sources":["webpack://project/./src/views/front/Favorites.vue","webpack://project/./src/views/front/Favorites.vue?5d3b"],"sourcesContent":["<template>\r\n  <div class=\"banner bg-favorites\">\r\n    <div class=\"mask\"></div>\r\n    <h2>收藏列表</h2>\r\n  </div>\r\n\r\n  <div class=\"container favorite-product mt-3\">\r\n    <div class=\"row\">\r\n      <div class=\"col-10\" id=\"product\">\r\n        <button class=\"clear\" @click=\"clearFavorites\"><i class=\"bi bi-trash\"></i> 清空全部</button>\r\n        <div class=\"row row-cols-sm-2 row-cols-lg-3 row-cols-xl-4 district\">\r\n          <div v-if=\"isFavorites.length === 0\" class=\"not-buy\">\r\n            <i class=\"bi bi-emoji-dizzy\"></i>\r\n            <h5>您尚未收藏產品</h5>\r\n            <router-link class=\"nav-link\" to=\"/user/shopping\" @click.prevent=\"scrollToTop\">\r\n              <button type=\"button\" class=\"btn btn-dark\">立即前往選購</button>\r\n            </router-link>\r\n          </div>\r\n          <div class=\"frame\" v-for=\"item in isFavorites\" :key=\"item.id\">\r\n            <div class=\"card\">\r\n              <div class=\"card-top\">\r\n                <button type=\"button\" class=\"btn btn-outline-info\" @click=\"removeToFavorites(item)\">\r\n                  <i class=\"bi bi-heart-fill\"></i>\r\n                </button>\r\n                <img :src=\"item.imageUrl\"  alt=\"產品圖片\">\r\n                <div class=\"more\">\r\n                  <button type=\"button\" class=\"btn btn-outline-secondary\"\r\n                    @click=\"getProduct(item.id)\">More...\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div class=\"card-body w-100\">\r\n                <h5 class=\"title\" style=\"cursor: pointer\" @click=\"getProduct(item.id)\">{{ item.title }}</h5>\r\n                <div class=\"category\">{{ item.category }}</div>\r\n                <div class=\"d-flex justify-content-between\">\r\n                  <div class=\"left\">\r\n                    <div class=\"h5\" v-if=\"!item.price\">NT$ {{ $filters.currency(item.origin_price) }}</div>\r\n                    <del class=\"h5\" v-if=\"item.price\">NT$ {{ $filters.currency(item.origin_price) }}</del>\r\n                    <div class=\"h6\" v-if=\"item.price\">NT$ {{ $filters.currency(item.price) }}</div>\r\n                  </div>\r\n                  <div class=\"right ml-auto\">\r\n                    <button type=\"button add-cart\" class=\"btn btn-outline-dark\"\r\n                      :disabled=\"this.status.loadingItem === item.id\"\r\n                      @click=\"addToCart(item.id)\">\r\n                      <span v-if=\"this.status.loadingItem === item.id\" class=\"spinner-border spinner-border-sm\" aria-hidden=\"true\"></span>\r\n                      <!-- <i class=\"bi bi-cart4\"></i> -->\r\n                      加入購物車\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <subscription/>\r\n\r\n</template>\r\n\r\n<script>\r\nimport subscription from '@/components/Subscription.vue'\r\nimport scrollButton from '@/mixins/scrollButton'\r\nimport { mapState, mapActions } from 'pinia'\r\nimport favoriteStore from '@/stores/favoriteStore'\r\nimport cartStore from '@/stores/cartStore'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      // isFavorites: [],\r\n      status: {\r\n        loadingItem: '' // 對應品項id\r\n      }\r\n    }\r\n  },\r\n  components: { subscription },\r\n  mixins: [scrollButton],\r\n  computed: {\r\n    ...mapState(favoriteStore, ['isFavorites'])\r\n  },\r\n  methods: {\r\n    ...mapActions(favoriteStore, ['loadFavoritesFromLocalStorage', 'removeToFavorites', 'clearFavorites']),\r\n    ...mapActions(cartStore, ['addToCart', 'getCart']),\r\n    // 取得儲存收藏產品資料\r\n    // loadFavoritesFromLocalStorage () {\r\n    //   const favoritesData = JSON.parse(localStorage.getItem('favorites')) || []\r\n    //   this.isFavorites = favoritesData\r\n    // },\r\n    // 將收藏資料儲存LocalStorage\r\n    // saveFavoritesToLocalStorage () {\r\n    //   localStorage.setItem('favorites', JSON.stringify(this.isFavorites))\r\n    // },\r\n    // 前往詳細資料頁面\r\n    getProduct (id) {\r\n      this.$router.push(`/user/product/${id}`)\r\n      this.scrollToTop()\r\n    }\r\n    // 加到購物車\r\n    // addCart (id) {\r\n    //   const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n    //   // 讀取資料前先讓loadingItem等於id資料，觸發disabled避免用戶重複加入購物車\r\n    //   this.status.loadingItem = id\r\n    //   const cart = {\r\n    //     product_id: id,\r\n    //     qty: 1\r\n    //   }\r\n    //   this.$http.post(url, { data: cart })\r\n    //     .then((res) => {\r\n    //       console.log(res)\r\n    //       // 讀取資料完成將disabled取消，讓用戶知道已經完成加入購物車\r\n    //       this.status.loadingItem = ''\r\n    //       this.$httpMessageState(res, '加入購物車')\r\n    //     })\r\n    // }\r\n    // 加到收藏\r\n    // addToFavorites (item) {\r\n    //   this.isFavorites.push(item)\r\n    //   this.emitter.emit('push-message', {\r\n    //     style: 'success',\r\n    //     title: '已加入收藏'\r\n    //   })\r\n    //   item.isFavorite = true\r\n    //   this.saveFavoritesToLocalStorage()\r\n    // },\r\n    // 移除收藏\r\n    // removeToFavorites (item) {\r\n    //   const index = this.isFavorites.findIndex(favProduct => favProduct.id === item.id)\r\n    //   if (index !== -1) {\r\n    //     this.isFavorites.splice(index, 1)\r\n    //     this.emitter.emit('push-message', {\r\n    //       style: 'warning',\r\n    //       title: '已移除收藏'\r\n    //     })\r\n    //   }\r\n    //   item.isFavorite = false\r\n    //   this.saveFavoritesToLocalStorage()\r\n    // },\r\n    // clearFavorites () {\r\n    //   // 清空 isFavorites 及LocalStorage\r\n    //   this.isFavorites = []\r\n    //   localStorage.removeItem('favorites')\r\n    // }\r\n  },\r\n  created () {\r\n  // 從 localStorage 中加載收藏資料\r\n    this.loadFavoritesFromLocalStorage()\r\n    this.getCart()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Favorites.vue?vue&type=template&id=4cd8ca68\"\nimport script from \"./Favorites.vue?vue&type=script&lang=js\"\nexport * from \"./Favorites.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","id","key","type","_hoisted_14","_createElementBlock","_Fragment","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","onClick","_cache","args","_ctx","clearFavorites","_hoisted_5","_createTextVNode","_hoisted_6","isFavorites","length","_hoisted_7","_hoisted_8","_hoisted_9","_createVNode","_component_router_link","to","_withModifiers","scrollToTop","default","_withCtx","_hoisted_10","_","_createCommentVNode","_renderList","item","_hoisted_11","_hoisted_12","$event","removeToFavorites","_hoisted_15","_hoisted_13","src","imageUrl","alt","_hoisted_16","_hoisted_17","$options","getProduct","_hoisted_18","_hoisted_19","style","title","_hoisted_20","_hoisted_21","_toDisplayString","category","_hoisted_22","_hoisted_23","price","_hoisted_24","$filters","currency","origin_price","_hoisted_25","_hoisted_26","_hoisted_27","disabled","status","loadingItem","addToCart","_hoisted_29","_hoisted_28","_component_subscription","data","components","subscription","mixins","scrollButton","computed","mapState","favoriteStore","methods","mapActions","cartStore","this","$router","push","created","loadFavoritesFromLocalStorage","getCart","__exports__","render"],"sourceRoot":""}