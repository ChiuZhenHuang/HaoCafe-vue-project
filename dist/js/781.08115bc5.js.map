{"version":3,"file":"js/781.08115bc5.js","mappings":"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","sources":["webpack://project/./src/components/Pagination.vue","webpack://project/./src/components/Pagination.vue?33dc","webpack://project/./src/views/front/UserShopping.vue","webpack://project/./src/views/front/UserShopping.vue?510f"],"sourcesContent":["<template>\r\n  <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination justify-content-center\">\r\n      <!-- 在第一頁時不顯示 -->\r\n      <li class=\"page-item\" v-if=\"pages.has_pre\">\r\n        <a class=\"page\" href=\"#\" aria-label=\"Previous\" @click.prevent=\"previousPage(pages)\"\r\n        >\r\n        <span aria-hidden=\"true\">&laquo;</span>\r\n        </a>\r\n      </li>\r\n      <li class=\"page-item\" v-for=\"page in pages.total_pages\" :key=\"page\">\r\n        <a class=\"page\" :class=\"{ 'active': page === pages.current_page }\"\r\n        href=\"#\" @click.prevent=\"updatePage(page)\">\r\n          {{ page }}\r\n        </a>\r\n      </li>\r\n      <!-- 在最後一頁時不顯示 -->\r\n      <li class=\"page-item\" v-if=\"pages.has_next\">\r\n        <a class=\"page\" href=\"#\" aria-label=\"Next\" @click.prevent=\"nextPage(pages)\">\r\n          <span aria-hidden=\"true\">&raquo;</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['pages'],\r\n  data () {\r\n    return {\r\n      nowPage: ''\r\n    }\r\n  },\r\n  methods: {\r\n    // 參數為目前的頁數\r\n    updatePage (page) {\r\n      // 向外emit目前頁數做更新\r\n      this.$emit('emit-pages', page)\r\n      this.nowPage = page\r\n      this.scrollToPosition()\r\n    },\r\n    // 參數為外層props進來的資料\r\n    previousPage (page) {\r\n      this.nowPage = page.current_page\r\n      if (this.nowPage > 1) {\r\n        this.nowPage--\r\n      } else {\r\n        this.nowPage = 1\r\n      }\r\n      this.updatePage(this.nowPage)\r\n    },\r\n    // 參數為外層props進來的資料\r\n    nextPage (page) {\r\n      this.nowPage = page.current_page\r\n      if (this.nowPage < page.total_pages) {\r\n        this.nowPage++\r\n      } else {\r\n        this.nowPage = page.total_pages\r\n      }\r\n      this.updatePage(this.nowPage)\r\n    },\r\n    // 使用路由判斷滑動至特定位置\r\n    scrollToPosition () {\r\n      if (this.$route.name === 'user-shopping') {\r\n        window.scrollTo({\r\n          top: 325,\r\n          behavior: 'smooth'\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Pagination.vue?vue&type=template&id=c90bbdde\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <LoadingComponent :active=\"isLoading\"></LoadingComponent>\r\n  <div class=\"l-banner bg-product\">\r\n    <div class=\"mask\"></div>\r\n    <h2>商品列表</h2>\r\n  </div>\r\n\r\n  <div class=\"container mt-3\">\r\n    <div class=\"row\">\r\n      <!-- 選單 -->\r\n      <div class=\"col-md-4 col-lg-3\" id=\"select\">\r\n        <ul class=\"list-group\">\r\n          <li class=\"mt-2 mb-1\">\r\n            <input type=\"search\" v-model=\"search\" value=\"\" placeholder=\"\"\r\n            @input=\"handleInput\" @compositionstart=\"handleCompositionStart\" @compositionend=\"handleCompositionEnd\">\r\n            <button><i class=\"bi bi-search\"></i></button>\r\n          </li>\r\n          <li class=\"list-group-item mt-2 mb-1\" :class=\"{'active': selectedCategory === ''}\"\r\n          style=\"cursor: pointer\" @click=\"search === '' && selectCategory('')\">全部商品</li>\r\n          <li class=\"list-group-item mt-2 mb-1\" :class=\"{'active': selectedCategory === '淺烘培'}\"\r\n          style=\"cursor: pointer\" @click=\"search === '' && selectCategory('淺烘培')\">淺烘培</li>\r\n          <li class=\"list-group-item mt-2 mb-1\" :class=\"{'active': selectedCategory === '中烘培'}\"\r\n          style=\"cursor: pointer\" @click=\"search === '' && selectCategory('中烘培')\">中烘培</li>\r\n          <li class=\"list-group-item mt-2 mb-1\" :class=\"{'active': selectedCategory === '深烘培'}\"\r\n          style=\"cursor: pointer\" @click=\"search === '' && selectCategory('深烘培')\">深烘培</li>\r\n          <li class=\"list-group-item mt-2 mb-1\" :class=\"{'active': selectedCategory === '周邊商品'}\"\r\n          style=\"cursor: pointer\" @click=\"search === '' && selectCategory('周邊商品')\">周邊商品</li>\r\n        </ul>\r\n      </div>\r\n      <!-- 產品 -->\r\n      <div class=\"col-md-8 col-lg-9 l-product-content\">\r\n        <div class=\"row row-cols-sm-2 row-cols-lg-3\">\r\n          <div class=\"l-frame\" v-for=\"item in filterProducts\" :key=\"item.id\">\r\n            <div class=\"card\">\r\n              <div class=\"card-top\">\r\n                <button v-if=\"!item.isFavorite\" type=\"button\" class=\"btn btn-outline-info btn-love\" @click=\"addToFavorites(item)\">\r\n                  <i class=\"bi bi-heart\"></i>\r\n                </button>\r\n                <button v-else type=\"button\" class=\"btn btn-outline-info btn-love\" @click=\"removeToFavorites(item)\">\r\n                  <i class=\"bi bi-heart-fill\"></i>\r\n                </button>\r\n                <img :src=\"item.imageUrl\"  alt=\"產品圖片\">\r\n                <div class=\"more\">\r\n                  <button type=\"button\" class=\"btn btn-outline-secondary btn-more\"\r\n                    @click=\"getProduct(item.id)\">More...\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div class=\"card-body w-100\">\r\n                <h5 class=\"title\" style=\"cursor: pointer\" @click=\"getProduct(item.id)\">{{ item.title }}</h5>\r\n                <div class=\"category\">{{ item.category }} </div>\r\n                <div class=\"d-flex justify-content-between\">\r\n                  <div class=\"price\">\r\n                    <div class=\"h5\" v-if=\"!item.price\">NT$ {{ $filters.currency(item.origin_price) }}</div>\r\n                    <del class=\"h5\" v-if=\"item.price\">NT$ {{ $filters.currency(item.origin_price) }}</del>\r\n                    <div class=\"h6\" v-if=\"item.price\">NT$ {{ $filters.currency(item.price) }}</div>\r\n                  </div>\r\n                  <div class=\"add-cart ml-auto\">\r\n                    <button type=\"button\" class=\"btn btn-outline-dark\"\r\n                      :disabled=\"this.status.loadingItem === item.id\"\r\n                      @click=\"addToCart(item.id)\">\r\n                      <span v-if=\"this.status.loadingItem === item.id\" class=\"spinner-border spinner-border-sm\" aria-hidden=\"true\"></span>\r\n                      加入購物車\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div v-show=\"filterProducts.length === 0\" class=\"not-found\">\r\n            <i class=\"bi bi-chat-square-dots\"></i>\r\n            <p>找不到相關的產品</p>\r\n            <p>請嘗試輸入其他關鍵字</p>\r\n          </div>\r\n        </div>\r\n        <!-- 渲染全部商品時才顯示頁數 -->\r\n        <Pagination v-show=\"selectedCategory === '' && search === '' \" :pages=\"pagination\" @emit-pages=\"getProducts\"></Pagination>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Pagination from '@/components/Pagination.vue'\r\nimport scrollButton from '@/mixins/scrollButton'\r\nimport { mapState, mapActions } from 'pinia'\r\nimport favoriteStore from '@/stores/favoriteStore'\r\nimport cartStore from '@/stores/cartStore'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: [], // 單頁產品\r\n      allProducts: [], // 所有產品\r\n      search: '', // 搜尋內容\r\n      selectedCategory: '', // 烘培類型\r\n      pagination: {}, // 分頁\r\n      isLoading: false, // 整個頁面loading\r\n      isActive: false, // 篩選欄是否被選擇\r\n      isComposing: false // 是否進行中文輸入\r\n    }\r\n  },\r\n  components: { Pagination },\r\n  inject: ['emitter'],\r\n  mixins: [scrollButton],\r\n  computed: {\r\n    ...mapState(favoriteStore, ['isFavorites']),\r\n    ...mapState(cartStore, ['status']),\r\n    // 搜尋及篩選\r\n    filterProducts () {\r\n      // 輸入搜尋，從所有產品中查找\r\n      if (this.search !== '') {\r\n        return this.allProducts.filter((item) => {\r\n          return item.title.match(new RegExp(this.search, 'i'))\r\n        })\r\n      } else if (this.selectedCategory !== '') {\r\n        // 如果選擇篩選種類，從所有產品中進行篩選\r\n        return this.allProducts.filter((item) => {\r\n          return item.category === this.selectedCategory\r\n        })\r\n      } else {\r\n        return this.products\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(favoriteStore, ['loadFavoritesFromLocalStorage', 'addToFavorites', 'removeToFavorites', 'isProductFavorite']),\r\n    ...mapActions(cartStore, ['addToCart', 'getCart']),\r\n    // 取得單頁產品資料\r\n    getProducts (page = 1) {\r\n      // 一頁最多只能取得10筆資料\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/?page=${page}`\r\n      this.isLoading = true\r\n      this.$http.get(url).then((res) => {\r\n        this.isLoading = false\r\n        this.pagination = res.data.pagination\r\n        // 新增isFavorite屬性，用於判斷是否已是收藏產品\r\n        this.products = res.data.products.map(item => ({ ...item, isFavorite: this.isProductFavorite(item) }))\r\n      })\r\n    },\r\n    // 取得所有產品資料\r\n    getAllProducts () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`\r\n      this.$http.get(url).then((res) => {\r\n        this.allProducts = res.data.products\r\n      })\r\n    },\r\n    // 前往詳細資料頁面\r\n    getProduct (id) {\r\n      this.scrollToTop()\r\n      this.$router.push(`/user/product/${id}`)\r\n    },\r\n    // 滾動至最上方\r\n    scrollToTop () {\r\n      window.scrollTo({\r\n        top: 310, // 產品列表最上方\r\n        behavior: 'smooth' // 平滑滾動效果\r\n      })\r\n    },\r\n    // 篩選烘培度\r\n    selectCategory (category) {\r\n      this.selectedCategory = category\r\n      // 篩選全部商品時，重新取得 this.products 內的 isFavorite值，同步收藏按鈕\r\n      if (category === '') {\r\n        this.products = this.products.map(product => {\r\n          const matchingProduct = this.allProducts.find(p => p.id === product.id)\r\n          return matchingProduct ? { ...product, isFavorite: matchingProduct.isFavorite } : product\r\n        })\r\n      } else if (this.search !== '' || category !== '') {\r\n        // 搜尋或篩選非全部商品狀態時，更新 this.allProducts 內的 isFavorite值，同步收藏按鈕\r\n        this.allProducts = this.allProducts.map(item => ({ ...item, isFavorite: this.isProductFavorite(item) }))\r\n      }\r\n      this.scrollToTop()\r\n    },\r\n    // 如果搜尋文字並非中文，就觸發 handleSearchChange\r\n    handleInput () {\r\n      if (!this.isComposing) {\r\n        this.handleSearchChange()\r\n      }\r\n    },\r\n    // 中文輸入開始\r\n    handleCompositionStart () {\r\n      this.isComposing = true\r\n    },\r\n    // 中文輸入結束，結束後觸發 handleSearchChange\r\n    handleCompositionEnd () {\r\n      this.isComposing = false\r\n      this.handleSearchChange()\r\n    },\r\n    // 在搜尋框內容送出時，觸發 selectCategory 篩選\r\n    handleSearchChange () {\r\n      if (this.search === '') {\r\n        this.selectCategory('')\r\n      } else {\r\n        // 只要不是空就可\r\n        this.selectCategory('search')\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.emitter.on('emit-category', this.selectCategory)\r\n  },\r\n  created () {\r\n    this.getProducts()\r\n    this.getAllProducts()\r\n    this.getCart()\r\n    this.loadFavoritesFromLocalStorage()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserShopping.vue?vue&type=template&id=668f8f76\"\nimport script from \"./UserShopping.vue?vue&type=script&lang=js\"\nexport * from \"./UserShopping.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","key","_createElementVNode","_hoisted_4","_hoisted_8","_createElementBlock","_hoisted_1","_hoisted_2","$props","pages","has_pre","_hoisted_3","href","onClick","_cache","_withModifiers","$event","$options","previousPage","_hoisted_5","_createCommentVNode","_Fragment","_renderList","total_pages","page","_normalizeClass","current_page","updatePage","_hoisted_6","has_next","_hoisted_7","nextPage","_hoisted_9","props","data","nowPage","methods","this","$emit","scrollToPosition","$route","name","window","scrollTo","top","behavior","__exports__","render","id","_hoisted_13","_hoisted_16","_hoisted_33","_hoisted_34","_hoisted_35","_createVNode","_component_LoadingComponent","active","$data","isLoading","type","search","value","placeholder","onInput","args","handleInput","onCompositionstart","handleCompositionStart","onCompositionend","handleCompositionEnd","selectedCategory","style","selectCategory","filterProducts","item","_hoisted_10","_hoisted_11","isFavorite","_ctx","removeToFavorites","_hoisted_17","_hoisted_15","addToFavorites","_hoisted_14","_hoisted_12","src","imageUrl","alt","_hoisted_18","_hoisted_19","getProduct","_hoisted_20","_hoisted_21","title","_hoisted_22","_hoisted_23","_toDisplayString","category","_hoisted_24","_hoisted_25","price","_hoisted_26","$filters","currency","origin_price","_hoisted_27","_hoisted_28","_hoisted_29","disabled","status","loadingItem","addToCart","_hoisted_31","_createTextVNode","_hoisted_30","_hoisted_32","_hoisted_36","length","_component_Pagination","pagination","onEmitPages","getProducts","products","allProducts","isActive","isComposing","components","Pagination","inject","mixins","scrollButton","computed","mapState","favoriteStore","cartStore","filter","match","RegExp","mapActions","url","$http","get","then","res","map","isProductFavorite","getAllProducts","scrollToTop","$router","push","product","matchingProduct","find","p","handleSearchChange","mounted","emitter","on","created","getCart","loadFavoritesFromLocalStorage"],"sourceRoot":""}