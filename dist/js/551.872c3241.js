"use strict";(self["webpackChunkproject"]=self["webpackChunkproject"]||[]).push([[551],{4551:function(t,e,a){a.r(e),a.d(e,{default:function(){return vt}});var i=a(3396),c=a(9242),l=a(7139);const o=(0,i._)("div",{class:"l-banner bg-product"},[(0,i._)("div",{class:"mask"}),(0,i._)("h2",null,"商品列表")],-1),s={class:"container"},r={"aria-label":"breadcrumb"},n={class:"breadcrumb mt-5"},d={class:"breadcrumb-item"},u={class:"breadcrumb-item"},p={class:"row d-flex justify-content-center"},g={class:"col-12 col-md-8 col-lg-5 d-flex justify-content-center l-product-content"},m={class:"l-frame h-100"},h={class:"card"},y={class:"card-top h-auto"},b=(0,i._)("i",{class:"bi bi-heart"},null,-1),v=[b],_=(0,i._)("i",{class:"bi bi-heart-fill"},null,-1),w=[_],k=["src"],f={class:"card-body other-img-content"},C=["src"],O=["src","onClick"],I={class:"col-12 col-lg-7 product-description",style:{display:"flex","flex-direction":"column"}},T={class:"product-title"},$={class:"category mb-5"},D={class:"mb-2",style:{"white-space":"pre-line"}},x={class:"d-flex",style:{"margin-top":"auto","align-items":"end"}},q={key:0,class:"h5"},z={key:1,class:"h5"},S={key:2,class:"h6"},F={class:"add-cart"},P=["max"],U=["disabled"],j={key:0,class:"spinner-border spinner-border-sm","aria-hidden":"true"},L={class:"row mb-3 product-notice"},N=(0,i.uE)('<div class="col-12 col-md-6"><div class="accordion" id="accordionPanelsStayOpenExample"><div class="accordion-item mb-2"><h2 class="accordion-header" id="panelsStayOpen-headingOne"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true" aria-controls="panelsStayOpen-collapseOne"> 送貨方式 </button></h2><div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingOne"><div class="accordion-body"><ul><li>新竹物流宅配</li><li>黑貓宅配</li><li>7-11 取貨</li><li>全家 取貨</li><li>跨境宅配</li><li>7-11 跨境門市取貨</li><li>郵局航空包裹</li><li>郵局宅配（台灣離島地區）</li></ul></div></div></div></div></div>',1),Z={class:"col-12 col-md-6"},H={class:"accordion",id:"accordionPanelsStayOpenExample1"},M={class:"accordion-item mb-2"},Q=(0,i._)("h2",{class:"accordion-header",id:"panelsStayOpen-headingTwo"},[(0,i._)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseTwo","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseTwo"}," 產品備註 ")],-1),E={id:"panelsStayOpen-collapseTwo",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingTwo"},W={class:"accordion-body"},Y={style:{"white-space":"pre-line"}},A={class:"row other-product"},K=(0,i._)("div",{class:"about-product-title"},[(0,i._)("h2",null,"相關產品")],-1),V={class:"col-12"},B={class:"col-md-8 col-lg-9 l-product-content"},G={class:"row row-cols-sm-2 row-cols-lg-3"},J={class:"card"},R={class:"card-top"},X=["src"],tt={class:"more"},et=["onClick"],at={class:"card-body w-100"},it=["onClick"],ct={class:"category"},lt={class:"d-flex justify-content-between"},ot={class:"price"},st={key:0,class:"h5"},rt={key:1,class:"h5"},nt={key:2,class:"h6"};function dt(t,e,a,b,_,dt){const ut=(0,i.up)("LoadingComponent"),pt=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(ut,{active:t.isLoading},null,8,["active"]),o,(0,i._)("div",s,[(0,i._)("nav",r,[(0,i._)("ul",n,[(0,i._)("li",d,[(0,i.Wm)(pt,{to:"/user/shopping"},{default:(0,i.w5)((()=>[(0,i.Uk)("全部商品")])),_:1})]),(0,i._)("li",{class:"breadcrumb-item",onClick:e[0]||(e[0]=(0,c.iM)((t=>dt.selectCategory(_.product.category)),["prevent"]))},[(0,i.Wm)(pt,{to:"/user/shopping"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(_.product.category),1)])),_:1})]),(0,i._)("li",u,(0,l.zw)(_.product.title),1)])]),(0,i._)("div",p,[(0,i._)("div",g,[(0,i._)("div",m,[(0,i._)("div",h,[(0,i._)("div",y,[_.product.isFavorite?((0,i.wg)(),(0,i.iD)("button",{key:1,type:"button",class:"btn btn-outline-info btn-love",onClick:e[2]||(e[2]=e=>t.removeToFavorites(_.product))},w)):((0,i.wg)(),(0,i.iD)("button",{key:0,type:"button",class:"btn btn-outline-info btn-love",onClick:e[1]||(e[1]=e=>t.addToFavorites(_.product))},v)),(0,i._)("img",{class:(0,l.C_)(["main-img animate__animated",{animate__fadeIn:_.changeImage}]),src:_.selectedImage||_.product.imageUrl,alt:"產品主圖"},null,10,k)]),(0,i._)("div",f,[(0,i._)("img",{src:_.product.imageUrl,alt:"產品小圖",onClick:e[3]||(e[3]=t=>dt.handleImageClick(null))},null,8,C),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(_.product.images,((t,e)=>((0,i.wg)(),(0,i.iD)("img",{key:e,src:t,alt:"產品圖",onClick:e=>dt.handleImageClick(t)},null,8,O)))),128))])])])]),(0,i._)("div",I,[(0,i._)("h5",T,(0,l.zw)(_.product.title),1),(0,i._)("div",$,(0,l.zw)(_.product.category),1),(0,i._)("p",D,(0,l.zw)(_.product.description),1),(0,i._)("div",x,[(0,i._)("div",null,[_.product.price?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",q,"NT$ "+(0,l.zw)(t.$filters.currency(_.product.origin_price)),1)),_.product.price?((0,i.wg)(),(0,i.iD)("del",z,"NT$ "+(0,l.zw)(t.$filters.currency(_.product.origin_price)),1)):(0,i.kq)("",!0),_.product.price?((0,i.wg)(),(0,i.iD)("div",S,"NT$ "+(0,l.zw)(t.$filters.currency(_.product.price)),1)):(0,i.kq)("",!0)]),(0,i._)("div",F,[(0,i._)("button",{type:"button",class:"btn qty-handler",onClick:e[4]||(e[4]=e=>t.productDecrementQuantity(t.quantity))},"-"),(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":e[5]||(e[5]=e=>t.quantity=e),readonly:"",min:"1",max:_.product.unit},null,8,P),[[c.nr,t.quantity]]),(0,i._)("button",{type:"button",class:"btn qty-handler",onClick:e[6]||(e[6]=e=>t.productIncrementQuantity(t.quantity))},"+"),(0,i._)("button",{type:"button add-cart",class:"btn btn-outline-dark",disabled:this.status.loadingItem===_.product.id,onClick:e[7]||(e[7]=e=>t.addToCart(_.product.id))},[this.status.loadingItem===_.product.id?((0,i.wg)(),(0,i.iD)("span",j)):(0,i.kq)("",!0),(0,i.Uk)(" 加入購物車 ")],8,U)])])])]),(0,i._)("div",L,[N,(0,i._)("div",Z,[(0,i._)("div",H,[(0,i._)("div",M,[Q,(0,i._)("div",E,[(0,i._)("div",W,[(0,i._)("p",Y,(0,l.zw)(_.product.content),1)])])])])])]),(0,i._)("div",A,[K,(0,i._)("div",V,[(0,i._)("div",B,[(0,i._)("div",G,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(_.allProducts,(e=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:"l-frame",key:e.id},[(0,i._)("div",J,[(0,i._)("div",R,[(0,i._)("img",{src:e.imageUrl,alt:"產品圖片"},null,8,X),(0,i._)("div",tt,[(0,i._)("button",{type:"button",class:"btn btn-outline-secondary btn-more",onClick:(0,c.iM)((t=>dt.goOtherProduct(e.id)),["prevent"])},"More... ",8,et)])]),(0,i._)("div",at,[(0,i._)("h5",{class:"title",style:{cursor:"pointer"},onClick:(0,c.iM)((t=>dt.goOtherProduct(e.id)),["prevent"])},(0,l.zw)(e.title),9,it),(0,i._)("div",ct,(0,l.zw)(e.category),1),(0,i._)("div",lt,[(0,i._)("div",ot,[e.price?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",st,"NT$ "+(0,l.zw)(t.$filters.currency(e.origin_price)),1)),e.price?((0,i.wg)(),(0,i.iD)("del",rt,"NT$ "+(0,l.zw)(t.$filters.currency(e.origin_price)),1)):(0,i.kq)("",!0),e.price?((0,i.wg)(),(0,i.iD)("div",nt,"NT$ "+(0,l.zw)(t.$filters.currency(e.price)),1)):(0,i.kq)("",!0)])])])])])),[[c.F8,_.product.category===e.category&&_.product.title!==e.title]]))),128))])])])])])],64)}a(560);var ut=a(2436),pt=a(2578),gt=a(9498),mt=a(4677),ht={data(){return{product:{},id:"",selectedImage:null,changeImage:!1,allProducts:[]}},inject:["emitter"],mixins:[ut.Z],computed:{...(0,pt.rn)(gt.Z,["isFavorites"]),...(0,pt.rn)(mt.Z,["quantity","status"])},methods:{...(0,pt.nv)(gt.Z,["addToFavorites","removeToFavorites","getProduct","loadFavoritesFromLocalStorage"]),...(0,pt.nv)(mt.Z,["addToCart","getCart","productDecrementQuantity","productIncrementQuantity"]),getProduct(){const t=`https://vue3-course-api.hexschool.io/api/cc45001127-api/product/${this.id}`;this.isLoading=!0,this.loadFavoritesFromLocalStorage(),this.$http.get(t).then((t=>{this.isLoading=!1,t.data.success&&(this.product=t.data.product,this.product.isFavorite=this.isFavorites.some((t=>t.id===this.product.id)))}))},getAllProducts(){const t="https://vue3-course-api.hexschool.io/api/cc45001127-api/products/all";this.$http.get(t).then((t=>{this.allProducts=t.data.products}))},handleImageClick(t){this.selectedImage=t,this.changeImageHandler()},changeImageHandler(){this.changeImage=!this.changeImage,setTimeout((()=>{this.changeImage=!1}),500)},goOtherProduct(t){this.$router.push(`/user/product/${t}`).then((()=>{window.location.reload()}))},selectCategory(t){this.emitter.emit("emit-category",t)}},created(){this.id=this.$route.params.productId,this.getCart(),this.getProduct(),this.getAllProducts()}},yt=a(89);const bt=(0,yt.Z)(ht,[["render",dt]]);var vt=bt}}]);
//# sourceMappingURL=551.872c3241.js.map