{"version":3,"file":"js/491.3e69deb0.js","mappings":"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","sources":["webpack://project/./src/views/front/UserProduct.vue","webpack://project/./src/views/front/UserProduct.vue?c42c"],"sourcesContent":["<template>\r\n  <LoadingComponent :active=\"isLoading\"></LoadingComponent>\r\n  <div class=\"l-banner bg-product\">\r\n    <div class=\"mask\"></div>\r\n    <h2>商品列表</h2>\r\n  </div>\r\n\r\n  <div class=\"container\">\r\n    <nav aria-label=\"breadcrumb\">\r\n      <ul class=\"breadcrumb mt-5\">\r\n        <li class=\"breadcrumb-item\"><router-link to=\"/user/shopping\">全部商品</router-link></li>\r\n        <!-- <li class=\"breadcrumb-item\"><router-link to=\"/user/shopping\" :@click=\"emitCategory(product.category)\">{{ product.category }}</router-link></li> -->\r\n        <li class=\"breadcrumb-item\">{{ product.category }}</li>\r\n        <li class=\"breadcrumb-item\">{{ product.title }}</li>\r\n      </ul>\r\n    </nav>\r\n\r\n    <div class=\"row d-flex justify-content-center\">\r\n      <div class=\"col-12 col-md-8 col-lg-5 d-flex justify-content-center l-product-content\">\r\n        <div class=\"l-frame h-100\">\r\n          <div class=\"card\">\r\n            <div class=\"card-top h-auto\">\r\n              <button v-if=\"!product.isFavorite\" type=\"button\" class=\"btn btn-outline-info btn-love\" @click=\"addToFavorites(product)\">\r\n                <i class=\"bi bi-heart\"></i>\r\n              </button>\r\n              <button v-else type=\"button\" class=\"btn btn-outline-info btn-love\" @click=\"removeToFavorites(product)\">\r\n                <i class=\"bi bi-heart-fill\"></i>\r\n              </button>\r\n              <img class=\"main-img animate__animated\" :class=\"{ 'animate__fadeIn': changeImage }\" :src=\"selectedImage || product.imageUrl\" alt=\"產品主圖\">\r\n            </div>\r\n            <div class=\"card-body other-img-content\">\r\n              <img :src=\"product.imageUrl\" alt=\"產品小圖\" @click=\"handleImageClick(null)\">\r\n              <img  v-for=\"(image, key) in product.images\" :key=\"key\"\r\n                :src=\"image\" alt=\"產品圖\" @click=\"handleImageClick(image)\">\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-12 col-lg-7 product-description\" style=\"display: flex; flex-direction: column;\">\r\n        <h5 class=\"product-title\">{{ product.title }}</h5>\r\n        <div class=\"category mb-5\">{{ product.category }}</div>\r\n        <p class=\"mb-2\" style=\"white-space: pre-line\">{{ product.description }}</p>\r\n        <div class=\"d-flex\" style=\"margin-top: auto;align-items: end;\">\r\n          <div>\r\n            <div class=\"h5\" v-if=\"!product.price\">NT$ {{ $filters.currency(product.origin_price) }}</div>\r\n            <del class=\"h5\" v-if=\"product.price\">NT$ {{ $filters.currency(product.origin_price) }}</del>\r\n            <div class=\"h6\" v-if=\"product.price\">NT$ {{ $filters.currency(product.price) }}</div>\r\n          </div>\r\n          <div class=\"add-cart\">\r\n            <button type=\"button\" class=\"btn qty-handler\" @click=\"productDecrementQuantity(quantity)\">-</button>\r\n            <input type=\"number\" v-model=\"quantity\"  readonly  min=\"1\" :max=\"product.unit\"/>\r\n            <button type=\"button\" class=\"btn qty-handler\" @click=\"productIncrementQuantity(quantity)\">+</button>\r\n            <button type=\"button add-cart\" class=\"btn  btn-outline-dark\"\r\n              :disabled=\"this.status.loadingItem === product.id\" @click=\"addToCart (product.id)\">\r\n              <span v-if=\"this.status.loadingItem === product.id\" class=\"spinner-border spinner-border-sm\" aria-hidden=\"true\"></span>\r\n              加入購物車\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row mb-3 product-notice\">\r\n      <div class=\"col-12 col-md-6\">\r\n        <div class=\"accordion\" id=\"accordionPanelsStayOpenExample\">\r\n          <div class=\"accordion-item mb-2\">\r\n            <h2 class=\"accordion-header\" id=\"panelsStayOpen-headingOne\">\r\n              <button class=\"accordion-button collapsed\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#panelsStayOpen-collapseOne\" aria-expanded=\"true\" aria-controls=\"panelsStayOpen-collapseOne\">\r\n                送貨方式\r\n              </button>\r\n            </h2>\r\n            <div id=\"panelsStayOpen-collapseOne\" class=\"accordion-collapse collapse\" aria-labelledby=\"panelsStayOpen-headingOne\">\r\n              <div class=\"accordion-body\">\r\n                <ul>\r\n                  <li>新竹物流宅配</li>\r\n                  <li>黑貓宅配</li>\r\n                  <li>7-11 取貨</li>\r\n                  <li>全家 取貨</li>\r\n                  <li>跨境宅配</li>\r\n                  <li>7-11 跨境門市取貨</li>\r\n                  <li>郵局航空包裹</li>\r\n                  <li>郵局宅配（台灣離島地區）</li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-12 col-md-6\">\r\n        <div class=\"accordion\" id=\"accordionPanelsStayOpenExample1\">\r\n          <div class=\"accordion-item mb-2\">\r\n            <h2 class=\"accordion-header\" id=\"panelsStayOpen-headingTwo\">\r\n              <button class=\"accordion-button collapsed\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#panelsStayOpen-collapseTwo\" aria-expanded=\"false\" aria-controls=\"panelsStayOpen-collapseTwo\">\r\n                產品備註\r\n              </button>\r\n            </h2>\r\n            <div id=\"panelsStayOpen-collapseTwo\" class=\"accordion-collapse collapse\" aria-labelledby=\"panelsStayOpen-headingTwo\">\r\n              <div class=\"accordion-body\">\r\n                <p style=\"white-space: pre-line\">{{ product.content }}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 相關產品 -->\r\n    <div class=\"row other-product\">\r\n      <div class=\"about-product-title\"><h2>相關產品</h2></div>\r\n      <div class=\"col-12\">\r\n        <div class=\"col-md-8 col-lg-9 l-product-content\">\r\n          <div class=\"row row-cols-sm-2 row-cols-lg-3\">\r\n            <div class=\"l-frame\" v-show=\"product.category === item.category && product.title !== item.title\"\r\n              v-for=\"item in allProducts\" :key=\"item.id\">\r\n              <div class=\"card\">\r\n                <div class=\"card-top\">\r\n                  <img :src=\"item.imageUrl\"  alt=\"產品圖片\">\r\n                  <div class=\"more\">\r\n                    <button type=\"button\" class=\"btn btn-outline-secondary btn-more\"\r\n                      @click=\"goOtherProduct(item.id)\">More...\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div class=\"card-body w-100\">\r\n                  <h5 class=\"title\" style=\"cursor: pointer\" @click=\"goOtherProduct(item.id)\">{{ item.title }}</h5>\r\n                  <div class=\"category\">{{ item.category }} </div>\r\n                  <div class=\"d-flex justify-content-between\">\r\n                    <div class=\"price\">\r\n                      <div class=\"h5\" v-if=\"!item.price\">NT$ {{ $filters.currency(item.origin_price) }}</div>\r\n                      <del class=\"h5\" v-if=\"item.price\">NT$ {{ $filters.currency(item.origin_price) }}</del>\r\n                      <div class=\"h6\" v-if=\"item.price\">NT$ {{ $filters.currency(item.price) }}</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport scrollButton from '@/mixins/scrollButton'\r\nimport { mapState, mapActions } from 'pinia'\r\nimport favoriteStore from '@/stores/favoriteStore'\r\nimport cartStore from '@/stores/cartStore'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      product: {},\r\n      id: '',\r\n      // isFavorites: [], // 收藏產品列表\r\n      selectedImage: null, // 追蹤主圖顯示\r\n      changeImage: false, // 用於更換主圖\r\n      // quantity: 1, // 加入購物車數量\r\n      // status: {\r\n      //   loadingItem: ''\r\n      // },\r\n      allProducts: [] // 所有產品列表，用於顯示相關產品\r\n    }\r\n  },\r\n  inject: ['emitter'],\r\n  mixins: [scrollButton],\r\n  computed: {\r\n    ...mapState(favoriteStore, ['isFavorites']),\r\n    ...mapState(cartStore, ['quantity', 'status'])\r\n  },\r\n  methods: {\r\n    ...mapActions(favoriteStore, ['addToFavorites', 'removeToFavorites', 'getProduct', 'loadFavoritesFromLocalStorage']),\r\n    ...mapActions(cartStore, ['addToCart', 'getCart', 'productDecrementQuantity', 'productIncrementQuantity']),\r\n    // 取得產品資料\r\n    getProduct () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${this.id}`\r\n      this.isLoading = true\r\n      // 取得收藏清單資料\r\n      this.loadFavoritesFromLocalStorage()\r\n      // const favorites = JSON.parse(localStorage.getItem('favorites')) || []\r\n      // this.isFavorites = favorites\r\n      this.$http.get(api).then((response) => {\r\n        this.isLoading = false\r\n        if (response.data.success) {\r\n          this.product = response.data.product\r\n          // 新增是否於收藏此產品屬性\r\n          this.product.isFavorite = this.isFavorites.some(item => item.id === this.product.id)\r\n        }\r\n      })\r\n    },\r\n    // 取得所有產品資料\r\n    getAllProducts () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`\r\n      this.$http.get(url).then((res) => {\r\n        this.allProducts = res.data.products\r\n      })\r\n    },\r\n    // 加到購物車\r\n    // addToCart (id, qty = 1) {\r\n    //   const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n    //   this.status.loadingItem = id\r\n    //   const cart = {\r\n    //     product_id: id,\r\n    //     qty: this.quantity\r\n    //   }\r\n    //   this.$http.post(url, { data: cart }).then((res) => {\r\n    //     this.status.loadingItem = ''\r\n    //     this.$httpMessageState(res, '加入購物車')\r\n    //   })\r\n    // },\r\n    // 加到收藏\r\n    // addToFavorites (product) {\r\n    //   this.isFavorites.push(product)\r\n    //   this.emitter.emit('push-message', {\r\n    //     style: 'success',\r\n    //     title: '已加入收藏'\r\n    //   })\r\n    //   product.isFavorite = true\r\n    //   this.saveFavoritesToLocalStorage()\r\n    // },\r\n    // 移除收藏\r\n    // removeToFavorites (product) {\r\n    //   const index = this.isFavorites.findIndex(favProduct => favProduct.id === product.id)\r\n    //   if (index !== -1) {\r\n    //     this.isFavorites.splice(index, 1)\r\n    //     this.emitter.emit('push-message', {\r\n    //       style: 'warning',\r\n    //       title: '已移除收藏'\r\n    //     })\r\n    //   }\r\n    //   product.isFavorite = false\r\n    //   this.saveFavoritesToLocalStorage()\r\n    // },\r\n    // 將收藏資料儲存LocalStorage\r\n    // saveFavoritesToLocalStorage () {\r\n    //   localStorage.setItem('favorites', JSON.stringify(this.isFavorites))\r\n    // },\r\n    // 點擊其他圖片取代主圖\r\n    handleImageClick (image) {\r\n      this.selectedImage = image\r\n      this.changeImageHandler()\r\n    },\r\n    // 主圖更換動態效果\r\n    changeImageHandler () {\r\n      this.changeImage = !this.changeImage\r\n      // 更換圖片效果完成後改回false\r\n      setTimeout(() => {\r\n        this.changeImage = false\r\n      }, 500)\r\n    },\r\n    // // 減少數量\r\n    // decrementQuantity (qty) {\r\n    //   if (qty > 1) {\r\n    //     this.quantity--\r\n    //   }\r\n    // },\r\n    // // 增加數量\r\n    // incrementQuantity (qty) {\r\n    //   if (this.quantity < this.product.unit) {\r\n    //     this.quantity++\r\n    //   }\r\n    // },\r\n    // 前往相關產品頁面\r\n    goOtherProduct (id) {\r\n      this.$router.push(`/user/product/${id}`).then(() => {\r\n        this.$router.go(0)\r\n      })\r\n      // this.scrollToTop()\r\n    }\r\n  },\r\n  created () {\r\n    this.id = this.$route.params.productId\r\n    this.getCart()\r\n    this.getProduct()\r\n    this.getAllProducts()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserProduct.vue?vue&type=template&id=78f66c3e\"\nimport script from \"./UserProduct.vue?vue&type=script&lang=js\"\nexport * from \"./UserProduct.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","_hoisted_13","_hoisted_15","style","key","_createStaticVNode","id","type","_createElementBlock","_Fragment","_createVNode","_component_LoadingComponent","active","_ctx","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_component_router_link","to","default","_withCtx","_createTextVNode","_","_hoisted_6","_toDisplayString","$data","product","category","_hoisted_7","title","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","isFavorite","onClick","_cache","$event","removeToFavorites","_hoisted_16","addToFavorites","_hoisted_14","_normalizeClass","changeImage","src","selectedImage","imageUrl","alt","_hoisted_17","_hoisted_18","$options","handleImageClick","_hoisted_19","_renderList","images","image","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","description","_hoisted_25","price","_createCommentVNode","_hoisted_26","$filters","currency","origin_price","_hoisted_27","_hoisted_28","_hoisted_29","productDecrementQuantity","quantity","readonly","min","max","unit","_hoisted_30","productIncrementQuantity","disabled","status","loadingItem","addToCart","_hoisted_32","_hoisted_31","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","content","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","allProducts","item","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","goOtherProduct","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","data","inject","mixins","scrollButton","computed","mapState","favoriteStore","cartStore","methods","mapActions","getProduct","api","this","loadFavoritesFromLocalStorage","$http","get","then","response","success","isFavorites","some","getAllProducts","url","res","products","changeImageHandler","setTimeout","$router","push","go","created","$route","params","productId","getCart","__exports__","render"],"sourceRoot":""}